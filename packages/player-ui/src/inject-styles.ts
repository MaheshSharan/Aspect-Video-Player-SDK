/**
 * CSS injection utility for PlayerUI.
 * AUTO-GENERATED from styles.css - DO NOT EDIT DIRECTLY
 * Run: node scripts/build-styles.js
 */

const CSS_CONTENT = "/**\r\n * Player UI Styles\r\n * \r\n * Uses CSS custom properties for theming.\r\n * Import this file or use the CSS string programmatically.\r\n */\r\n\r\n/* CSS Custom Properties (Theming) */\r\n:root {\r\n  --player-primary: #ffffff;\r\n  --player-accent: #e50914;\r\n  --player-bg: rgba(0, 0, 0, 0.8);\r\n  --player-bg-solid: #141414;\r\n  --player-text: #ffffff;\r\n  --player-text-muted: rgba(255, 255, 255, 0.7);\r\n  --player-border-radius: 4px;\r\n  --player-transition: 0.2s ease;\r\n  --player-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  --player-font-size: 14px;\r\n  --player-slider-height: 4px;\r\n  --player-slider-thumb-size: 14px;\r\n}\r\n\r\n/* Container */\r\n.player-ui {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  font-family: var(--player-font-family);\r\n  font-size: var(--player-font-size);\r\n  color: var(--player-text);\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n}\r\n\r\n/* Controls Bar */\r\n.player-controls {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 8px 12px;\r\n  background: linear-gradient(transparent, var(--player-bg));\r\n  transition: opacity var(--player-transition);\r\n  z-index: 10;\r\n}\r\n\r\n.player-controls--hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.player-controls__row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.player-controls__row--bottom {\r\n  margin-top: 8px;\r\n}\r\n\r\n.player-controls__spacer {\r\n  flex: 1;\r\n}\r\n\r\n/* Buttons */\r\n.player-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 0;\r\n  border: none;\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-primary);\r\n  cursor: pointer;\r\n  transition: transform var(--player-transition), background var(--player-transition);\r\n}\r\n\r\n.player-btn:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  transform: scale(1.1);\r\n}\r\n\r\n.player-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* Remove focus outline on click - only show on keyboard navigation */\r\n.player-btn:focus {\r\n  outline: none;\r\n}\r\n\r\n.player-btn svg {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n/* Sliders */\r\n.player-slider {\r\n  position: relative;\r\n  height: var(--player-slider-height);\r\n  cursor: pointer;\r\n}\r\n\r\n.player-slider--seek {\r\n  flex: 1;\r\n  margin: 0 8px;\r\n}\r\n\r\n.player-slider--volume {\r\n  width: 80px;\r\n}\r\n\r\n.player-slider__track {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: calc(var(--player-slider-height) / 2);\r\n  overflow: hidden;\r\n}\r\n\r\n.player-slider__buffer {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, 0.4);\r\n  border-radius: calc(var(--player-slider-height) / 2);\r\n  transition: width 0.1s linear;\r\n}\r\n\r\n.player-slider__fill {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  background: var(--player-accent);\r\n  border-radius: calc(var(--player-slider-height) / 2);\r\n}\r\n\r\n.player-slider__thumb {\r\n  position: absolute;\r\n  top: 50%;\r\n  width: var(--player-slider-thumb-size);\r\n  height: var(--player-slider-thumb-size);\r\n  margin-top: calc(var(--player-slider-thumb-size) / -2);\r\n  margin-left: calc(var(--player-slider-thumb-size) / -2);\r\n  background: var(--player-primary);\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n  transform: scale(0);\r\n  transition: transform var(--player-transition);\r\n}\r\n\r\n.player-slider:hover .player-slider__thumb,\r\n.player-slider:focus .player-slider__thumb {\r\n  transform: scale(1);\r\n}\r\n\r\n/* Time Display */\r\n.player-time {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  font-size: 12px;\r\n  font-variant-numeric: tabular-nums;\r\n  color: var(--player-text);\r\n  white-space: nowrap;\r\n}\r\n\r\n.player-time--separator {\r\n  color: var(--player-text-muted);\r\n}\r\n\r\n/* Live Indicator */\r\n.player-live {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 4px 10px;\r\n  border: none;\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-text);\r\n  font-family: var(--player-font-family);\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  cursor: default;\r\n  transition: background var(--player-transition), color var(--player-transition);\r\n}\r\n\r\n.player-live__dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: var(--player-accent);\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n.player-live__text {\r\n  color: inherit;\r\n}\r\n\r\n/* Live - at live edge (not clickable) */\r\n.player-live:disabled {\r\n  cursor: default;\r\n}\r\n\r\n.player-live:disabled .player-live__dot {\r\n  background: var(--player-accent);\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n/* Live - behind live edge (clickable) */\r\n.player-live--behind {\r\n  cursor: pointer;\r\n}\r\n\r\n.player-live--behind:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.player-live--behind:focus {\r\n  outline: 2px solid var(--player-accent);\r\n  outline-offset: 2px;\r\n}\r\n\r\n.player-live--behind .player-live__dot {\r\n  background: var(--player-text-muted);\r\n  animation: none;\r\n}\r\n\r\n.player-live--behind .player-live__text {\r\n  color: var(--player-text-muted);\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.5;\r\n  }\r\n}\r\n\r\n/* Volume Group */\r\n.player-volume-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.player-volume-group .player-slider--volume {\r\n  width: 0;\r\n  opacity: 0;\r\n  transition: width var(--player-transition), opacity var(--player-transition);\r\n}\r\n\r\n.player-volume-group:hover .player-slider--volume {\r\n  width: 80px;\r\n  opacity: 1;\r\n}\r\n\r\n/* Menus */\r\n.player-menu {\r\n  position: absolute;\r\n  bottom: 100%;\r\n  right: 0;\r\n  min-width: 120px;\r\n  margin-bottom: 8px;\r\n  padding: 8px 0;\r\n  background: var(--player-bg-solid);\r\n  border-radius: var(--player-border-radius);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\r\n  overflow: hidden;\r\n}\r\n\r\n.player-menu__item {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  background: transparent;\r\n  color: var(--player-text);\r\n  text-align: left;\r\n  font-size: var(--player-font-size);\r\n  cursor: pointer;\r\n  transition: background var(--player-transition);\r\n}\r\n\r\n.player-menu__item:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.player-menu__item--active {\r\n  color: var(--player-accent);\r\n  font-weight: 600;\r\n}\r\n\r\n.player-menu__item--active::before {\r\n  content: '✓ ';\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Subtitle Panel — Modern 3-view design\r\n   ═══════════════════════════════════════════ */\r\n\r\n/* Panel container */\r\n.player-sub-panel {\r\n  position: absolute;\r\n  bottom: 100%;\r\n  right: 0;\r\n  width: 320px;\r\n  margin-bottom: 8px;\r\n  background: var(--player-bg-solid);\r\n  border-radius: calc(var(--player-border-radius) * 2);\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  z-index: 30;\r\n  max-height: 80vh;\r\n}\r\n\r\n/* ── Header ── */\r\n.player-sub-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.player-sub-header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.player-sub-header-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-text-muted);\r\n  cursor: pointer;\r\n  transition: background var(--player-transition), color var(--player-transition);\r\n}\r\n\r\n.player-sub-header-btn:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  color: var(--player-text);\r\n}\r\n\r\n.player-sub-header-title {\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  color: var(--player-text);\r\n}\r\n\r\n.player-sub-customize-btn {\r\n  padding: 6px 14px;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  border-radius: 999px;\r\n  background: transparent;\r\n  color: var(--player-text-muted);\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background var(--player-transition), color var(--player-transition), border-color var(--player-transition);\r\n}\r\n\r\n.player-sub-customize-btn:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  color: var(--player-text);\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* ── Content area ── */\r\n.player-sub-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 8px 0;\r\n  overflow-y: auto;\r\n  max-height: 50vh;\r\n  overscroll-behavior: contain;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;\r\n}\r\n\r\n.player-sub-content::-webkit-scrollbar { width: 5px; }\r\n.player-sub-content::-webkit-scrollbar-track { background: transparent; }\r\n.player-sub-content::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 3px; }\r\n\r\n/* ── Toggle Switch (modern pill) ── */\r\n.player-sub-toggle {\r\n  position: relative;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 44px;\r\n  height: 24px;\r\n  border: none;\r\n  border-radius: 999px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  cursor: pointer;\r\n  transition: background 0.2s ease;\r\n  flex-shrink: 0;\r\n  padding: 0;\r\n}\r\n\r\n.player-sub-toggle--on {\r\n  background: var(--player-accent);\r\n}\r\n\r\n.player-sub-toggle-knob {\r\n  position: absolute;\r\n  top: 3px;\r\n  left: 3px;\r\n  width: 18px;\r\n  height: 18px;\r\n  background: #fff;\r\n  border-radius: 50%;\r\n  transition: transform 0.2s ease;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\r\n  pointer-events: none;\r\n}\r\n\r\n.player-sub-toggle--on .player-sub-toggle-knob {\r\n  transform: translateX(20px);\r\n}\r\n\r\n/* Toggle row (label + switch) */\r\n.player-sub-toggle-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 10px 16px;\r\n}\r\n\r\n.player-sub-toggle-label {\r\n  font-size: 14px;\r\n  color: var(--player-text);\r\n  font-weight: 500;\r\n}\r\n\r\n/* ── Divider ── */\r\n.player-sub-divider {\r\n  border: none;\r\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\r\n  margin: 4px 16px;\r\n}\r\n\r\n/* ── Search Bar ── */\r\n.player-sub-search {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin: 4px 16px 8px;\r\n  padding: 8px 12px;\r\n  background: rgba(255, 255, 255, 0.06);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: var(--player-border-radius);\r\n  transition: border-color var(--player-transition);\r\n}\r\n\r\n.player-sub-search:focus-within {\r\n  border-color: var(--player-accent);\r\n}\r\n\r\n.player-sub-search-icon {\r\n  color: var(--player-text-muted);\r\n  flex-shrink: 0;\r\n  display: flex;\r\n}\r\n\r\n.player-sub-search-input {\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  color: var(--player-text);\r\n  font-size: 13px;\r\n  font-family: var(--player-font-family);\r\n  outline: none;\r\n}\r\n\r\n.player-sub-search-input::placeholder {\r\n  color: var(--player-text-muted);\r\n}\r\n\r\n/* ── Track List ── */\r\n.player-sub-track-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 260px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  overscroll-behavior: contain;\r\n  -webkit-overflow-scrolling: touch;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;\r\n}\r\n\r\n.player-sub-track-list::-webkit-scrollbar { width: 5px; }\r\n.player-sub-track-list::-webkit-scrollbar-track { background: transparent; }\r\n.player-sub-track-list::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 3px; }\r\n\r\n.player-sub-track-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 10px 16px;\r\n  border: none;\r\n  background: transparent;\r\n  color: var(--player-text);\r\n  font-size: 14px;\r\n  font-family: var(--player-font-family);\r\n  cursor: pointer;\r\n  text-align: left;\r\n  transition: background var(--player-transition);\r\n}\r\n\r\n.player-sub-track-item:hover {\r\n  background: rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.player-sub-track-item--active {\r\n  color: var(--player-accent);\r\n}\r\n\r\n.player-sub-track-label {\r\n  flex: 1;\r\n  min-width: 0;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.player-sub-track-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.player-sub-check {\r\n  display: flex;\r\n  color: var(--player-accent);\r\n}\r\n\r\n/* White dot indicator for selected track */\r\n.player-sub-dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: var(--player-primary);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.player-sub-empty {\r\n  padding: 24px 16px;\r\n  text-align: center;\r\n  color: var(--player-text-muted);\r\n  font-size: 13px;\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Customize Panel\r\n   ═══════════════════════════════════════════ */\r\n.player-sub-customize-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 4px 0;\r\n  overflow-y: auto;\r\n  max-height: 55vh;\r\n  overscroll-behavior: contain;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;\r\n}\r\n\r\n.player-sub-customize-content::-webkit-scrollbar { width: 5px; }\r\n.player-sub-customize-content::-webkit-scrollbar-track { background: transparent; }\r\n.player-sub-customize-content::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 3px; }\r\n\r\n/* Setting group */\r\n.player-sub-setting-group {\r\n  padding: 8px 16px;\r\n}\r\n\r\n.player-sub-setting-label {\r\n  margin: 0 0 8px;\r\n  font-size: 13px;\r\n  color: var(--player-text-muted);\r\n  font-weight: 500;\r\n}\r\n\r\n.player-sub-setting-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* Range slider */\r\n.player-sub-range {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 100%;\r\n  height: 4px;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border-radius: 2px;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.player-sub-range::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 14px;\r\n  height: 14px;\r\n  background: var(--player-accent);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: transform 0.15s ease;\r\n}\r\n\r\n.player-sub-range::-webkit-slider-thumb:hover {\r\n  transform: scale(1.2);\r\n}\r\n\r\n.player-sub-range::-moz-range-thumb {\r\n  width: 14px;\r\n  height: 14px;\r\n  background: var(--player-accent);\r\n  border-radius: 50%;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.player-sub-range-value {\r\n  font-family: 'SF Mono', Monaco, Consolas, monospace;\r\n  font-size: 12px;\r\n  min-width: 48px;\r\n  text-align: right;\r\n  color: var(--player-accent);\r\n  font-weight: 600;\r\n}\r\n\r\n/* Slider wrapper for delay */\r\n.player-sub-slider-wrap {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.player-sub-slider-wrap .player-sub-range {\r\n  flex: 1;\r\n}\r\n\r\n/* Delay +/- buttons row */\r\n.player-sub-delay-btns {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.player-sub-delay-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 6px 12px;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-text-muted);\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: background var(--player-transition), color var(--player-transition);\r\n}\r\n\r\n.player-sub-delay-btn:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  color: var(--player-text);\r\n}\r\n\r\n.player-sub-delay-display {\r\n  font-family: 'SF Mono', Monaco, Consolas, monospace;\r\n  font-size: 13px;\r\n  color: var(--player-accent);\r\n  font-weight: 600;\r\n}\r\n\r\n/* Color picker */\r\n.player-sub-color-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.player-sub-color-swatch {\r\n  position: relative;\r\n  width: 32px;\r\n  height: 32px;\r\n  padding: 0;\r\n  border: 2px solid transparent;\r\n  border-radius: 50%;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  transition: border-color var(--player-transition);\r\n}\r\n\r\n.player-sub-color-swatch:hover {\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.player-sub-color-swatch--active {\r\n  border-color: var(--player-accent);\r\n}\r\n\r\n.player-sub-color-circle {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n}\r\n\r\n.player-sub-color-check {\r\n  display: flex;\r\n}\r\n\r\n.player-sub-color-custom {\r\n  position: relative;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.player-sub-color-input {\r\n  position: absolute;\r\n  inset: 0;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.player-sub-color-picker-icon {\r\n  display: flex;\r\n  color: var(--player-text-muted);\r\n}\r\n\r\n/* Vertical position buttons */\r\n.player-sub-pos-btns {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.player-sub-pos-btn {\r\n  padding: 5px 12px;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-text-muted);\r\n  font-size: 12px;\r\n  font-family: var(--player-font-family);\r\n  cursor: pointer;\r\n  transition: background var(--player-transition), color var(--player-transition), border-color var(--player-transition);\r\n}\r\n\r\n.player-sub-pos-btn:hover {\r\n  background: rgba(255, 255, 255, 0.06);\r\n}\r\n\r\n.player-sub-pos-btn--active {\r\n  background: var(--player-accent);\r\n  border-color: var(--player-accent);\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Reset button */\r\n.player-sub-reset-btn {\r\n  display: block;\r\n  width: calc(100% - 32px);\r\n  margin: 8px 16px 12px;\r\n  padding: 10px;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  border-radius: var(--player-border-radius);\r\n  background: transparent;\r\n  color: var(--player-text-muted);\r\n  font-size: 13px;\r\n  font-family: var(--player-font-family);\r\n  cursor: pointer;\r\n  transition: background var(--player-transition), color var(--player-transition);\r\n  text-align: center;\r\n}\r\n\r\n.player-sub-reset-btn:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  color: var(--player-text);\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Subtitle Overlay (on video)\r\n   ═══════════════════════════════════════════ */\r\n.player-subtitles {\r\n  position: absolute;\r\n  bottom: 8%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  max-width: 80%;\r\n  text-align: center;\r\n  pointer-events: none;\r\n  z-index: 8;\r\n  display: none;\r\n  font-size: 100%;\r\n  line-height: 1.4;\r\n  color: #fff;\r\n  font-weight: 400;\r\n  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8), 0 0 2px rgba(0, 0, 0, 0.6);\r\n  --sub-bg-opacity: 0.5;\r\n  background: rgba(0, 0, 0, var(--sub-bg-opacity));\r\n  padding: 4px 12px;\r\n  border-radius: var(--player-border-radius);\r\n  transition: bottom 0.3s ease, font-size 0.2s ease;\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Big Play Button Overlay\r\n   ═══════════════════════════════════════════ */\r\n.player-big-play {\r\n  position: absolute;\r\n  inset: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 6;\r\n  cursor: pointer;\r\n  background: transparent;\r\n  border: none;\r\n  padding: 0;\r\n}\r\n\r\n.player-big-play__circle {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 72px;\r\n  height: 72px;\r\n  border-radius: 50%;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(4px);\r\n  transition: transform 0.2s ease, background 0.2s ease;\r\n}\r\n\r\n.player-big-play:hover .player-big-play__circle {\r\n  transform: scale(1.1);\r\n  background: rgba(0, 0, 0, 0.7);\r\n}\r\n\r\n.player-big-play__circle svg {\r\n  width: 36px;\r\n  height: 36px;\r\n  color: var(--player-primary);\r\n  margin-left: 4px; /* optical centering for play triangle */\r\n}\r\n\r\n.player-big-play--hidden {\r\n  display: none;\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Double-tap Seek Ripple\r\n   ═══════════════════════════════════════════ */\r\n.player-seek-ripple {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 40%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  z-index: 7;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.player-seek-ripple--left {\r\n  left: 0;\r\n  background: linear-gradient(to right, rgba(255, 255, 255, 0.1), transparent);\r\n  border-radius: 0 50% 50% 0;\r\n}\r\n\r\n.player-seek-ripple--right {\r\n  right: 0;\r\n  background: linear-gradient(to left, rgba(255, 255, 255, 0.1), transparent);\r\n  border-radius: 50% 0 0 50%;\r\n}\r\n\r\n.player-seek-ripple--active {\r\n  opacity: 1;\r\n}\r\n\r\n.player-seek-ripple__text {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--player-text);\r\n}\r\n\r\n/* ═══════════════════════════════════════════\r\n   Preview Tooltip (seek bar hover)\r\n   ═══════════════════════════════════════════ */\r\n.player-preview {\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 0;\r\n  display: none;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  pointer-events: none;\r\n  z-index: 15;\r\n}\r\n\r\n.player-preview--visible {\r\n  display: flex;\r\n}\r\n\r\n.player-preview__image {\r\n  width: 160px;\r\n  height: 90px;\r\n  border-radius: var(--player-border-radius);\r\n  overflow: hidden;\r\n  background: var(--player-bg-solid);\r\n  border: 2px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.player-preview__image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.player-preview__time {\r\n  margin-top: 4px;\r\n  padding: 2px 8px;\r\n  background: var(--player-bg);\r\n  border-radius: var(--player-border-radius);\r\n  font-size: 12px;\r\n  font-variant-numeric: tabular-nums;\r\n  color: var(--player-text);\r\n}\r\n\r\n/* Loading Spinner */\r\n.player-spinner {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 5;\r\n}\r\n\r\n.player-spinner svg {\r\n  width: 48px;\r\n  height: 48px;\r\n  color: var(--player-primary);\r\n  animation: player-spin 1.5s linear infinite;\r\n}\r\n\r\n@keyframes player-spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* Error Overlay */\r\n.player-error {\r\n  position: absolute;\r\n  inset: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16px;\r\n  padding: 20px;\r\n  background: rgba(0, 0, 0, 0.9);\r\n  text-align: center;\r\n  z-index: 20;\r\n}\r\n\r\n.player-error p {\r\n  margin: 0;\r\n  color: var(--player-text);\r\n  font-size: 16px;\r\n}\r\n\r\n.player-error .player-btn {\r\n  width: auto;\r\n  padding: 12px 24px;\r\n  background: var(--player-accent);\r\n  color: var(--player-primary);\r\n  font-weight: 600;\r\n  border-radius: var(--player-border-radius);\r\n}\r\n\r\n.player-error .player-btn:hover {\r\n  background: #ff1a26;\r\n}\r\n\r\n/* Native Input Slider (for volume) */\r\ninput[type=\"range\"].player-slider {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 80px;\r\n  height: var(--player-slider-height);\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: calc(var(--player-slider-height) / 2);\r\n  outline: none;\r\n}\r\n\r\ninput[type=\"range\"].player-slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: var(--player-slider-thumb-size);\r\n  height: var(--player-slider-thumb-size);\r\n  background: var(--player-primary);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\ninput[type=\"range\"].player-slider::-moz-range-thumb {\r\n  width: var(--player-slider-thumb-size);\r\n  height: var(--player-slider-thumb-size);\r\n  background: var(--player-primary);\r\n  border: none;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n/* Quality / Speed Selector */\r\n.quality-selector,\r\n.speed-selector {\r\n  position: relative;\r\n}\r\n\r\n/* Click area for play/pause on video */\r\n.player-ui::before {\r\n  content: '';\r\n  position: absolute;\r\n  inset: 0;\r\n  z-index: 1;\r\n}\r\n\r\n/* Responsive - Tablet */\r\n@media (max-width: 768px) {\r\n  .player-controls {\r\n    padding: 8px 10px;\r\n  }\r\n\r\n  .player-btn {\r\n    width: 38px;\r\n    height: 38px;\r\n  }\r\n\r\n  .player-btn svg {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n\r\n  .player-menu {\r\n    min-width: 180px;\r\n    max-height: 60vh;\r\n  }\r\n\r\n  /* Volume slider always visible on tablet but shorter */\r\n  .player-volume-group .player-slider--volume {\r\n    width: 60px;\r\n  }\r\n}\r\n\r\n/* Responsive - Mobile */\r\n@media (max-width: 480px) {\r\n  .player-controls {\r\n    padding: 6px 8px;\r\n  }\r\n  \r\n  .player-btn {\r\n    width: 40px;\r\n    height: 40px;\r\n    /* Larger touch targets on mobile */\r\n    min-width: 44px;\r\n    min-height: 44px;\r\n  }\r\n  \r\n  .player-btn svg {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n  \r\n  .player-time {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  /* Hide volume slider on mobile - use volume button tap */\r\n  .player-volume-group .player-slider--volume {\r\n    display: none;\r\n  }\r\n\r\n  /* Ensure menus fit on mobile */\r\n  .player-menu {\r\n    min-width: 200px;\r\n    max-width: calc(100vw - 40px);\r\n    max-height: 50vh;\r\n  }\r\n\r\n  .player-sub-panel {\r\n    width: calc(100vw - 24px);\r\n    max-width: 320px;\r\n  }\r\n\r\n  .player-sub-track-list {\r\n    max-height: 180px;\r\n  }\r\n\r\n  /* Larger slider touch area on mobile */\r\n  .player-slider {\r\n    height: 6px;\r\n  }\r\n\r\n  .player-slider__track {\r\n    height: 6px;\r\n  }\r\n\r\n  /* Larger thumb on mobile for easier touch */\r\n  .player-slider__thumb {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n}\r\n\r\n/* Touch device improvements */\r\n@media (hover: none) and (pointer: coarse) {\r\n  /* Always show volume slider on touch - no hover expand */\r\n  .player-volume-group .player-slider--volume {\r\n    opacity: 1;\r\n    width: 60px;\r\n    visibility: visible;\r\n  }\r\n\r\n  /* Larger touch targets */\r\n  .player-btn {\r\n    min-width: 44px;\r\n    min-height: 44px;\r\n  }\r\n\r\n  /* Menu items need larger touch targets */\r\n  .player-menu__item {\r\n    padding: 12px 16px;\r\n    min-height: 44px;\r\n  }\r\n\r\n  /* Larger slider hit area */\r\n  .player-slider {\r\n    padding: 10px 0;\r\n  }\r\n\r\n  /* Offset buttons need larger targets */\r\n  .player-sub-delay-btn {\r\n    min-height: 44px;\r\n    padding: 8px 16px;\r\n  }\r\n\r\n  /* Toggle larger on touch */\r\n  .player-sub-toggle {\r\n    width: 52px;\r\n    height: 28px;\r\n  }\r\n\r\n  .player-sub-toggle-knob {\r\n    width: 22px;\r\n    height: 22px;\r\n  }\r\n\r\n  .player-sub-toggle--on .player-sub-toggle-knob {\r\n    transform: translateX(24px);\r\n  }\r\n\r\n  /* Track items larger for touch */\r\n  .player-sub-track-item {\r\n    min-height: 44px;\r\n    padding: 12px 16px;\r\n  }\r\n}\r\n\r\n/* Accessibility - Screen Reader Only */\r\n.player-sr-only {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  border: 0;\r\n}\r\n\r\n/* Accessibility - Focus Styles */\r\n.player-btn:focus-visible,\r\n.player-slider:focus-visible,\r\n.player-menu__item:focus-visible,\r\ninput[type=\"range\"].player-slider:focus-visible {\r\n  outline: 2px solid var(--player-accent);\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Remove default focus outline, we use focus-visible instead */\r\n.player-btn:focus:not(:focus-visible),\r\n.player-slider:focus:not(:focus-visible),\r\n.player-menu__item:focus:not(:focus-visible) {\r\n  outline: none;\r\n}\r\n\r\n/* Skip link for keyboard users */\r\n.player-skip-link {\r\n  position: absolute;\r\n  top: -40px;\r\n  left: 0;\r\n  background: var(--player-bg-solid);\r\n  color: var(--player-text);\r\n  padding: 8px 16px;\r\n  z-index: 100;\r\n  text-decoration: none;\r\n  border-radius: var(--player-border-radius);\r\n}\r\n\r\n.player-skip-link:focus {\r\n  top: 0;\r\n}\r\n\r\n/* High contrast mode support */\r\n@media (forced-colors: active) {\r\n  .player-btn,\r\n  .player-menu__item {\r\n    border: 1px solid currentColor;\r\n  }\r\n  \r\n  .player-slider__fill,\r\n  .player-slider__thumb {\r\n    background: currentColor;\r\n  }\r\n  \r\n  .player-menu__item--active {\r\n    background: Highlight;\r\n    color: HighlightText;\r\n  }\r\n}\r\n\r\n/* Accessibility - Reduced Motion */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .player-btn,\r\n  .player-slider__thumb,\r\n  .player-menu__item,\r\n  .player-volume-group .player-slider--volume,\r\n  .player-controls {\r\n    transition: none;\r\n  }\r\n  \r\n  .player-spinner svg {\r\n    animation: none;\r\n  }\r\n}\r\n";

let stylesInjected = false;
let styleElement: HTMLStyleElement | null = null;

/**
 * Inject player UI styles into the document head.
 * This function is idempotent - calling it multiple times has no effect.
 */
export function injectStyles(): void {
    if (stylesInjected || typeof document === 'undefined') {
        return;
    }

    styleElement = document.createElement('style');
    styleElement.id = 'aspect-player-ui-styles';
    styleElement.textContent = CSS_CONTENT;
    document.head.appendChild(styleElement);
    stylesInjected = true;
}

/**
 * Remove injected player UI styles from the document.
 */
export function removeStyles(): void {
    if (styleElement !== null) {
        styleElement.remove();
        styleElement = null;
        stylesInjected = false;
    }
}

/**
 * Get the raw CSS content as a string.
 */
export function getStyles(): string {
    return CSS_CONTENT;
}
